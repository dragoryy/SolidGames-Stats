(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bfc861c"],{"6b17":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"page-title"},[n("h3",[t._v("Общая статистика отрядов")]),n("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:t.refresh}},[n("i",{staticClass:"material-icons"},[t._v("refresh")])])]),n("div",{staticClass:"row"},[n("p",[t._v("Выберите период:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.choosed,expression:"choosed"}],ref:"sq",staticStyle:{display:"block"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.choosed=e.target.multiple?n:n[0]}}},t._l(t.period,(function(e){return n("option",{key:e.id},[t._v(t._s(e.title))])})),0),t.loading?n("Loader"):n("v-table",{staticClass:"responsive-table highlight",attrs:{data:t.n},scopedSlots:t._u([{key:"body",fn:function(e){var r=e.displayData;return n("tbody",{},t._l(r,(function(e,r){return n("tr",{key:e.id},[n("td",[t._v(t._s(r+1))]),n("td",[t._v(t._s(e.prefix))]),n("td",[t._v(t._s(e.kills))]),n("td",[t._v(t._s(e.teamkills))]),n("td",[t._v(t._s(e.score))])])})),0)}}])},[n("thead",{attrs:{slot:"head"},slot:"head"},[n("th",[t._v("Место")]),n("th",[t._v("Отряд")]),n("v-th",{attrs:{sortKey:"kills",defaultSort:"desc"}},[t._v("Убийств")]),n("v-th",{attrs:{sortKey:"teamkills",defaultSort:"desc"}},[t._v("Тимкиллов")]),n("v-th",{attrs:{sortKey:"score",defaultSort:"desc"}},[t._v("Счет")])],1)])],1)])},a=[],s=n("1da1"),o=(n("96cf"),n("d3b7"),n("a9e3"),n("99af"),{name:"Squads",data:function(){return{n:[],loading:!0,choosed:"За все время",period:[],squads:[]}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.squads.push("[Одиночки]"),e.next=3,fetch("stats.json?t=".concat(Date.now()));case 3:return n=e.sent,e.next=6,n.json();case 6:for(r in n=e.sent,n.squadStatistics)t.squads.push(n.squadStatistics[r].prefix);return e.next=10,fetch("rotations_stats.json?t=".concat(Date.now()));case 10:return a=e.sent,e.next=13,a.json();case 13:for(s in a=e.sent,a)o=a[s].startDate,i=a[s].endDate,a[s].startDate=new Date(a[s].startDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),null===a[s].endDate?a[s].endDate=" по настоящий момент.":a[s].endDate=new Date(a[s].endDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),t.period.push({id:Number(s),title:"".concat(a[s].startDate," - ").concat(a[s].endDate),endDate:i,startDate:o});return t.period.push({id:a.length,title:"За все время"}),t.period.reverse(),e.next=19,t.refresh();case 19:case"end":return e.stop()}}),e)})))()},watch:{choosed:function(){this.refresh()}},methods:{refresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.choosed==t.period[0].title?t.r():t.rotationTable();case 1:case"end":return e.stop()}}),e)})))()},r:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.n=[],e.next=4,fetch("stats.json?t=".concat(Date.now()));case 4:return n=e.sent,e.next=7,n.json();case 7:for(a in n=e.sent,r=1,n.squadStatistics)n.squadStatistics[a].id=r,r++,t.n.push(n.squadStatistics[a]);t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},rotationTable:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.n=[],e.next=4,fetch("rotations_stats.json?t=".concat(Date.now()));case 4:return n=e.sent,e.next=7,n.json();case 7:for(a in n=e.sent,1,r=t.$refs.sq.selectedIndex,n)if(n[a].startDate==t.period[r].startDate)for(s in n[a].stats.squad)t.n.push(n[a].stats.squad[s]);t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}}}),i=o,c=n("2877"),u=Object(c["a"])(i,r,a,!1,null,null,null);e["default"]=u.exports},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("da84"),s=n("d039"),o=n("e8b5"),i=n("861d"),c=n("7b0b"),u=n("07fa"),d=n("8418"),l=n("65f0"),f=n("1dde"),h=n("b622"),v=n("2d00"),p=h("isConcatSpreadable"),m=9007199254740991,w="Maximum allowed index exceeded",_=a.TypeError,g=v>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=f("concat"),x=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},D=!g||!b;r({target:"Array",proto:!0,forced:D},{concat:function(t){var e,n,r,a,s,o=c(this),i=l(o,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?o:arguments[e],x(s)){if(a=u(s),f+a>m)throw _(w);for(n=0;n<a;n++,f++)n in s&&d(i,f,s[n])}else{if(f>=m)throw _(w);d(i,f++,s)}return i.length=f,i}})}}]);
//# sourceMappingURL=chunk-2bfc861c.ec498caa.js.map
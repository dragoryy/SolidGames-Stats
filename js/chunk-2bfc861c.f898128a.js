(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bfc861c"],{"6b17":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[t._v("Общая статистика отрядов")]),r("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:t.refresh}},[r("i",{staticClass:"material-icons"},[t._v("refresh")])])]),r("div",{staticClass:"row"},[r("p",[t._v("Выберите период:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.choosed,expression:"choosed"}],ref:"sq",staticStyle:{display:"block"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.choosed=e.target.multiple?r:r[0]}}},t._l(t.period,(function(e){return r("option",{key:e.id},[t._v(t._s(e.title))])})),0),t.loading?r("Loader"):r("v-table",{attrs:{data:t.n},scopedSlots:t._u([{key:"body",fn:function(e){var n=e.displayData;return r("tbody",{},t._l(n,(function(e,n){return r("tr",{key:e.id},[r("td",[t._v(t._s(n+1))]),r("td",[t._v(t._s(e.prefix))]),r("td",[t._v(t._s(e.kills))]),r("td",[t._v(t._s(e.teamkills))]),r("td",[t._v(t._s(e.score))])])})),0)}}])},[r("thead",{attrs:{slot:"head"},slot:"head"},[r("th",[t._v("Место")]),r("th",[t._v("Отряд")]),r("v-th",{attrs:{sortKey:"kills",defaultSort:"desc"}},[t._v("Убийств")]),r("v-th",{attrs:{sortKey:"teamkills",defaultSort:"desc"}},[t._v("Тимкиллов")]),r("v-th",{attrs:{sortKey:"score",defaultSort:"desc"}},[t._v("Счет")])],1)])],1)])},a=[],s=r("1da1"),o=(r("96cf"),r("d3b7"),r("a9e3"),r("99af"),{name:"Squads",data:function(){return{n:[],loading:!0,choosed:"За все время",period:[],squads:[]}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.squads.push("[Одиночки]"),e.next=3,fetch("stats.json");case 3:return r=e.sent,e.next=6,r.json();case 6:for(n in r=e.sent,r.squadStatistics)t.squads.push(r.squadStatistics[n].prefix);return e.next=10,fetch("rotations_stats.json");case 10:return a=e.sent,e.next=13,a.json();case 13:for(s in a=e.sent,a)o=a[s].startDate,i=a[s].endDate,a[s].startDate=new Date(a[s].startDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),null===a[s].endDate?a[s].endDate=" по настоящий момент.":a[s].endDate=new Date(a[s].endDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),t.period.push({id:Number(s),title:"".concat(a[s].startDate," - ").concat(a[s].endDate),endDate:i,startDate:o});return t.period.push({id:a.length,title:"За все время"}),t.period.reverse(),e.next=19,t.refresh();case 19:case"end":return e.stop()}}),e)})))()},watch:{choosed:function(){this.refresh()}},methods:{refresh:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.choosed==t.period[0].title?t.r():t.rotationTable();case 1:case"end":return e.stop()}}),e)})))()},r:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.n=[],e.next=4,fetch("stats.json");case 4:return r=e.sent,e.next=7,r.json();case 7:for(a in r=e.sent,n=1,r.squadStatistics)r.squadStatistics[a].id=n,n++,t.n.push(r.squadStatistics[a]);t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},rotationTable:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var r,n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.n=[],e.next=4,fetch("rotations_stats.json");case 4:return r=e.sent,e.next=7,r.json();case 7:for(a in r=e.sent,1,n=t.$refs.sq.selectedIndex,r)if(r[a].startDate==t.period[n].startDate)for(s in r[a].stats.squad)t.n.push(r[a].stats.squad[s]);t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}}}),i=o,c=r("2877"),u=Object(c["a"])(i,n,a,!1,null,null,null);e["default"]=u.exports},"99af":function(t,e,r){"use strict";var n=r("23e7"),a=r("da84"),s=r("d039"),o=r("e8b5"),i=r("861d"),c=r("7b0b"),u=r("07fa"),d=r("8418"),l=r("65f0"),f=r("1dde"),h=r("b622"),v=r("2d00"),p=h("isConcatSpreadable"),m=9007199254740991,_="Maximum allowed index exceeded",w=a.TypeError,b=v>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=f("concat"),x=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},y=!b||!g;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,r,n,a,s,o=c(this),i=l(o,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?o:arguments[e],x(s)){if(a=u(s),f+a>m)throw w(_);for(r=0;r<a;r++,f++)r in s&&d(i,f,s[r])}else{if(f>=m)throw w(_);d(i,f++,s)}return i.length=f,i}})}}]);
//# sourceMappingURL=chunk-2bfc861c.f898128a.js.map
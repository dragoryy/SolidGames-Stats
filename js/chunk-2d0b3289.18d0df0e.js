(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3289"],{"26d3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[t._m(0),t.loading?e("Loader"):e("div",{staticClass:"row",attrs:{id:"sg"}},[e("div",{staticClass:"setting"},[e("p",[t._v("Период по умолчанию:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.choosed,expression:"choosed"}],ref:"period",staticStyle:{display:"block"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.choosed=e.target.multiple?a:a[0]}}},t._l(t.period,(function(a){return e("option",{key:a.id,attrs:{"data-id":a.id}},[t._v(" "+t._s(a.title)+" ")])})),0)]),e("div",{staticClass:"setting"},[e("p",[t._v("Отряд по умолчанию:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],ref:"tag",staticStyle:{display:"block"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tag=e.target.multiple?a:a[0]}}},t._l(t.squads,(function(a){return e("option",{key:a},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"input-field setting"},[e("p",[t._v("Ваш никнейм:")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.nick,expression:"nick",modifiers:{trim:!0}}],ref:"nick",staticClass:"autocomplete",attrs:{type:"text",id:"autocomplete-input",autocomplete:"off"},domProps:{value:t.nick},on:{input:function(e){e.target.composing||(t.nick=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"setting"},[e("p",[t._v("Цветовая палитра:")]),e("div",{staticClass:"switch"},[e("label",[e("b",[t._v("Светлая")]),e("input",{ref:"theme",attrs:{type:"checkbox"},domProps:{checked:t.theme}}),e("span",{staticClass:"lever"}),e("b",[t._v("Темная")])])])]),e("a",{staticClass:"waves-effect waves-light btn",on:{click:function(e){return e.preventDefault(),t.setLocalInfoStore.apply(null,arguments)}}},[t._v("Сохранить")])])],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-title"},[e("h3",[t._v("Настройки статистики")])])}],n=a("2f62"),o={name:"Home",data:()=>({tag:"[FNX]",squads:[],nicknames:{},loading:!0,choosed:"За все время",period:[],tab:null,theme:"",nick:"",c:null}),async mounted(){"setnick"===this.$route.query.msg&&M.toast({html:"Выберите свой никнейм!"}),this.choosed=this.getInfo().period,this.tag=this.getInfo().tag,this.theme=this.getInfo().theme,this.nick=this.getInfo().nick;let t=await fetch("stats.json");t=await t.json();for(let a in t.globalStatistics){let e=t.globalStatistics[a].name;this.nicknames[e]=null}for(let a in t.squadStatistics)this.squads.push(t.squadStatistics[a].prefix);this.squads.sort(),this.squads.unshift("[Одиночки]");let e=await fetch("rotations_stats.json");e=await e.json();for(let a in e){let t=e[a].startDate,i=e[a].endDate;e[a].startDate=new Date(e[a].startDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),null===e[a].endDate?e[a].endDate=" по настоящий момент.":e[a].endDate=new Date(e[a].endDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),this.period.push({id:Number(a),title:`${e[a].startDate} - ${e[a].endDate}`,endDate:i,startDate:t})}this.period.push({id:e.length,title:"За все время"}),this.period.reverse(),this.loading=!1,setTimeout(()=>{var t=document.querySelectorAll(".autocomplete");M.Autocomplete.init(t,{data:this.nicknames})},200)},methods:{...Object(n["b"])(["getInfo"]),setLocalInfoStore(){const t={};t.theme=this.$refs.theme.checked,t.tag=this.$refs.tag.value,t.period=this.$refs.period.value,t.nick=this.$refs.nick.value,this.theme=this.$refs.theme.checked,this.$store.dispatch("updateLocalInfo",t),this.$emit("reloadSidebar"),M.toast({html:"Настройки сохранены!"})}}},r=o,l=a("2877"),c=Object(l["a"])(r,i,s,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b3289.18d0df0e.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c42b2"],{"3a4b":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"page-title"},[a("h3",[t._v("Общая статистика игроков")]),a("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:t.refresh}},[a("i",{staticClass:"material-icons"},[t._v("refresh")])])]),a("div",{staticClass:"row"},[a("ul",{ref:"tab",staticClass:"tabs tabs-fixed-width tab-demo"},[a("li",{staticClass:"tab col s3",class:{disabled:t.loading},on:{click:t.refresh}},[t._m(0)]),a("li",{staticClass:"tab col s3",class:{disabled:t.loading},on:{click:t.refresh}},[t._m(1)])])]),a("div",{staticClass:"row",attrs:{id:"sg"}},[a("p",[t._v("Выберите период:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.choosed,expression:"choosed"}],ref:"sl",staticStyle:{display:"block"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.choosed=a.target.multiple?s:s[0]}}},t._l(t.period,(function(s){return a("option",{key:s.id},[t._v(t._s(s.title))])})),0),a("p",[t._v("Поиск по нику:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nick,expression:"nick"}],staticStyle:{display:"block"},domProps:{value:t.nick},on:{input:[function(a){a.target.composing||(t.nick=a.target.value)},function(a){return a.preventDefault(),t.searchByNick.apply(null,arguments)}]}}),t.loading?a("Loader"):t.n.length<1?a("p",{staticClass:"center-align"},[t._v(" Игрока с таким ником не найдено ")]):a("v-table",{staticClass:"responsive-table highlight",attrs:{data:t.n},scopedSlots:t._u([{key:"body",fn:function({displayData:s}){return a("tbody",{},t._l(s,(function(s,e){return a("tr",{key:s.id},[a("td",[t._v(t._s(e+1))]),a("td",[a("router-link",{attrs:{to:{name:"Player",params:{nick:s.name}}}},[t._v(t._s(s.lastSquadPrefix+s.name))])],1),a("td",[t._v(t._s(s.totalPlayedGames))]),a("td",[t._v(t._s(s.kills))]),a("td",[t._v(t._s(s.vehicleKills))]),a("td",[t._v(t._s(s.teamkills))]),a("td",[t._v(t._s(s.deaths.byTeamkills))]),a("td",[t._v(t._s(s.deaths.total))]),a("td",[t._v(t._s(s.kdRatio))]),a("td",[t._v(t._s(s.totalScore))])])})),0)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("th",[t._v("Место")]),a("v-th",{attrs:{sortKey:"name"}},[a("span",[t._v("Ник")])]),a("v-th",{attrs:{sortKey:"totalPlayedGames"}},[a("span",[t._v("Кол-во игр")])]),a("v-th",{attrs:{sortKey:"kills"}},[a("span",[t._v("Убийств")])]),a("v-th",{attrs:{sortKey:"vehicleKills"}},[a("span",[t._v("Выбито техники")])]),a("v-th",{attrs:{sortKey:"teamkills"}},[a("span",[t._v("Тимкиллов")])]),a("v-th",{attrs:{sortKey:"deaths.byTeamkills"}},[a("span",[t._v("Смертей от ТК")])]),a("v-th",{attrs:{sortKey:"deaths.total"}},[a("span",[t._v("Смертей")])]),a("v-th",{attrs:{sortKey:"kdRatio"}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"(Убийства - Тимкиллы) / (Смерти - Смерти от ТК)",expression:"'(Убийства - Тимкиллы) / (Смерти - Смерти от ТК)'"}],staticClass:"tip"},[t._v("K/D")])]),a("v-th",{attrs:{sortKey:"totalScore",defaultSort:"desc"}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"(Убийства - Тимкиллы) / (Кол-во игр - Смерти от ТК)",expression:"'(Убийства - Тимкиллы) / (Кол-во игр - Смерти от ТК)'"}],staticClass:"tip"},[t._v("Счет")])])],1)])],1),a("div",{staticClass:"row",attrs:{id:"mace"}},[a("p",[t._v("Поиск по нику:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nick,expression:"nick"}],staticStyle:{display:"block"},domProps:{value:t.nick},on:{input:[function(a){a.target.composing||(t.nick=a.target.value)},function(a){return a.preventDefault(),t.searchByNick.apply(null,arguments)}]}}),t.loading?a("Loader"):t.n.length<1?a("p",{staticClass:"center-align"},[t._v(" Игрока с таким ником не найдено ")]):a("v-table",{staticClass:"responsive-table highlight",attrs:{data:t.n},scopedSlots:t._u([{key:"body",fn:function({displayData:s}){return a("tbody",{},t._l(s,(function(s,e){return a("tr",{key:s.id},[a("td",[t._v(t._s(e+1))]),a("td",[a("router-link",{attrs:{to:{name:"Player",params:{nick:s.name}}}},[t._v(t._s(s.lastSquadPrefix+s.name))])],1),a("td",[t._v(t._s(s.totalPlayedGames))]),a("td",[t._v(t._s(s.kills))]),a("td",[t._v(t._s(s.vehicleKills))]),a("td",[t._v(t._s(s.teamkills))]),a("td",[t._v(t._s(s.deaths.byTeamkills))]),a("td",[t._v(t._s(s.deaths.total))]),a("td",[t._v(t._s(s.kdRatio))]),a("td",[t._v(t._s(s.totalScore))])])})),0)}}])},[a("thead",{attrs:{slot:"head"},slot:"head"},[a("th",[t._v("Место")]),a("v-th",{attrs:{sortKey:"name"}},[a("span",[t._v("Ник")])]),a("v-th",{attrs:{sortKey:"totalPlayedGames"}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Игры где было более 10 человек",expression:"'Игры где было более 10 человек'"}],staticClass:"tip"},[t._v("Кол-во игр")])]),a("v-th",{attrs:{sortKey:"kills"}},[a("span",[t._v("Убийств")])]),a("v-th",{attrs:{sortKey:"vehicleKills"}},[a("span",[t._v("Выбито техники")])]),a("v-th",{attrs:{sortKey:"teamkills"}},[a("span",[t._v("Тимкиллов")])]),a("v-th",{attrs:{sortKey:"deaths.byTeamkills"}},[a("span",[t._v("Смертей от ТК")])]),a("v-th",{attrs:{sortKey:"deaths.total"}},[a("span",[t._v("Смертей")])]),a("v-th",{attrs:{sortKey:"kdRatio"}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"(Убийства - Тимкиллы) / (Смерти - Смерти от ТК)",expression:"'(Убийства - Тимкиллы) / (Смерти - Смерти от ТК)'"}],staticClass:"tip"},[t._v("K/D")])]),a("v-th",{attrs:{sortKey:"totalScore",defaultSort:"desc"}},[a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"(Убийства - Тимкиллы) / (Кол-во игр - Смерти от ТК)",expression:"'(Убийства - Тимкиллы) / (Кол-во игр - Смерти от ТК)'"}],staticClass:"tip"},[t._v("Счет")])])],1)])],1)])},i=[function(){var t=this,a=t._self._c;return a("a",{staticClass:"active",attrs:{href:"#sg"}},[a("strong",[t._v("SG")])])},function(){var t=this,a=t._self._c;return a("a",{attrs:{href:"#mace"}},[a("strong",[t._v("MACE")])])}],l=(s("caad"),s("2f62")),o={name:"Players",data:()=>({n:[],loading:!0,nick:"",choosed:"За все время",period:[],mace:[],tab:null,dataLoaded:!1}),created(){this.searchByNick=_.debounce(this.refresh,200)},async mounted(){this.tab=M.Tabs.init(this.$refs.tab,{duration:50});let t=await fetch("rotations_stats.json");t=await t.json();for(let a in t){let s=t[a].startDate,e=t[a].endDate;t[a].startDate=new Date(t[a].startDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),null===t[a].endDate?t[a].endDate=" по настоящий момент.":t[a].endDate=new Date(t[a].endDate).toLocaleString("ru",{year:"numeric",month:"short",day:"numeric"}),this.period.push({id:Number(a),title:`${t[a].startDate} - ${t[a].endDate}`,endDate:e,startDate:s})}this.period.push({id:t.length,title:"За все время"}),this.period.reverse(),this.choosed=this.getInfo().period||"За все время",await this.refresh(),this.dataLoaded=!0},watch:{choosed:function(){this.dataLoaded&&(this.n=[],this.refresh())}},methods:{...Object(l["b"])(["getInfo"]),async refresh(){this.n=[],setTimeout(()=>{this.tab.$activeTabLink[0].href.includes("#sg")?this.choosed===this.period[0].title?this.r():this.rotationTable():this.reloadMace()})},async r(){this.loading=!0;let t=await fetch("stats.json");t=await t.json();let a=1;for(let s in t.globalStatistics)t.globalStatistics[s]&&(t.globalStatistics[s].id=a,a++,null===t.globalStatistics[s].lastSquadPrefix&&(t.globalStatistics[s].lastSquadPrefix=""),this.nick?-1!=t.globalStatistics[s].name.toLowerCase().indexOf(this.nick.toLowerCase())&&this.n.push(t.globalStatistics[s]):this.n.push(t.globalStatistics[s]));this.loading=!1},async rotationTable(){this.loading=!0;let t=await fetch("rotations_stats.json");t=await t.json();let a=this.$refs.sl.selectedIndex;for(let s in t)if(t[s].startDate===this.period[a].startDate)for(let a in t[s].stats.global)null===t[s].stats.global[a].lastSquadPrefix&&(t[s].stats.global[a].lastSquadPrefix=""),this.nick?-1!=t[s].stats.global[a].name.toLowerCase().indexOf(this.nick.toLowerCase())&&this.n.push(t[s].stats.global[a]):this.n.push(t[s].stats.global[a]);this.loading=!1},async reloadMace(){this.loading=!0;let t=await fetch("stats_mace.json");t=await t.json();let a=1;for(let s in t.globalStatistics)t.globalStatistics[s]&&(t.globalStatistics[s].id=a,a++,null===t.globalStatistics[s].lastSquadPrefix&&(t.globalStatistics[s].lastSquadPrefix=""),this.nick?-1!=t.globalStatistics[s].name.toLowerCase().indexOf(this.nick.toLowerCase())&&this.n.push(t.globalStatistics[s]):this.n.push(t.globalStatistics[s]));this.loading=!1},showPlayer(t){this.$router.push("/player/"+t)}}},n=o,r=s("2877"),d=Object(r["a"])(n,e,i,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0c42b2.c5b271aa.js.map